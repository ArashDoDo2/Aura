# راهنمای پروژه Aura (Go)

این پروژه یک پیاده‌سازی Go از پروکسی DNS برای تونل‌کردن ترافیک واتس‌اپ است.

## ساختار پروژه

- `cmd/aura-server.go`: نقطه ورود سرور DNS (Go)
- `cmd/aura-client.go`: نقطه ورود کلاینت (Go)
- `internal/server.go`: منطق سرور DNS و مدیریت نشست‌ها
- `internal/client.go`: منطق کلاینت و ارسال داده از طریق DNS
- `internal/dnsutil.go`: ابزارهای کمکی برای کدگذاری/دیکدینگ DNS
- `internal/protocol.go`: تعریف پروتکل و ساختار نام‌گذاری کوئری‌ها

## نحوه اجرا

### سرور:
```
go run cmd/aura-server.go
```

### کلاینت:
```
go run cmd/aura-client.go
```

## توضیحات فنی
- ارتباط بین کلاینت و سرور از طریق رکوردهای DNS AAAA و Base32 انجام می‌شود.
- هر نشست با SessionID یکتا مدیریت می‌شود.
- داده‌ها به قطعات کوچک تقسیم و در قالب DNS Query ارسال می‌شوند.
- سرور داده‌ها را جمع‌آوری و به واتس‌اپ فوروارد می‌کند.

## وابستگی‌ها
- [github.com/miekg/dns](https://github.com/miekg/dns)


## راهنمای ساخت کلاینت برای اندروید

برای استفاده از Aura روی اندروید، باید یک کلاینت ساده Go را برای ARM یا ARM64 کامپایل کنید یا از ابزارهای مشابه (مانند Termux) بهره بگیرید:

### ۱. کامپایل باینری Go برای اندروید:
در محیط لینوکس:
```
GOOS=android GOARCH=arm64 go build -o aura-client-android cmd/aura-client.go
```
سپس فایل aura-client-android را به گوشی منتقل و با Termux اجرا کنید:
```
./aura-client-android --dns-server <آدرس سرور> --session-id <شناسه>
```

### ۲. استفاده از Termux:
در Termux، ابتدا Go را نصب کنید:
```
pkg install golang
```
سپس سورس پروژه را کپی و اجرا نمایید:
```
go run cmd/aura-client.go
```

## تنظیم واتس‌اپ برای استفاده از Aura

۱. پس از اجرای کلاینت Aura روی اندروید، یک پراکسی محلی (مثلاً روی پورت 1080) راه‌اندازی می‌شود.
۲. برای اتصال واتس‌اپ به این پراکسی:
	- وارد تنظیمات شبکه گوشی شوید.
	- بخش Proxy را روی حالت Manual قرار دهید.
	- آدرس را 127.0.0.1 و پورت را 1080 وارد کنید.
	- یا از اپلیکیشن‌های مدیریت پراکسی (مثل ProxyDroid) برای روت کردن ترافیک واتس‌اپ از طریق پراکسی محلی استفاده کنید.
۳. واتس‌اپ را باز کنید؛ ارتباط باید از طریق تونل Aura برقرار شود.

> نکته: برخی نسخه‌های اندروید یا واتس‌اپ ممکن است تنظیم پراکسی داخلی نداشته باشند. در این صورت باید از ابزارهای جانبی برای هدایت ترافیک استفاده کنید.

